<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_56882708915c48200680d963f7728012 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-minimap/3.6.1/Control.MiniMap.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-minimap/3.6.1/Control.MiniMap.css"/>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.fullscreen@3.0.0/Control.FullScreen.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.fullscreen@3.0.0/Control.FullScreen.css"/>
    <script src="https://cdn.jsdelivr.net/gh/ardhi/Leaflet.MousePosition/src/L.Control.MousePosition.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ardhi/Leaflet.MousePosition/src/L.Control.MousePosition.min.css"/>
    <script src="https://cdn.jsdelivr.net/gh/ljagis/leaflet-measure@2.1.7/dist/leaflet-measure.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ljagis/leaflet-measure@2.1.7/dist/leaflet-measure.min.css"/>
</head>
<body>
    
    
    <div style="position: fixed; bottom: 18px; left: 18px; z-index:9999; background: white;
                padding: 10px 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 13px;">
      <b>Top hotspot clusters (area-wise)</b><br>
      <span style="display:inline-block;width:12px;height:12px;background:#d32f2f;border:1px solid #d32f2f;"></span>
      Severe (≥ 2σ above city typical)<br>
      <span style="display:inline-block;width:12px;height:12px;background:#fb8c00;border:1px solid #fb8c00;"></span>
      High (1–2σ)<br>
      <span style="display:inline-block;width:12px;height:12px;background:#ffd54f;border:1px solid #ffd54f;"></span>
      Elevated (0.5–1σ)<br>
      <span style="display:inline-block;width:12px;height:12px;background:#673ab7;border:1px solid #673ab7;"></span>
      Cluster polygon(s)
    </div>
    
    <script>
        function getAiSuggestions(cid) {
            var btn = document.getElementById("popup-btn_" + cid);
            var desc = document.getElementById("popup-desc_" + cid);
            var aiBox = document.getElementById("ai-answer_" + cid);

            if (!btn || !desc) {console.log("Button or description not found"); return;}

            btn.addEventListener("click", async function() {
                btn.disabled = true;
                btn.innerText = "Generating...";
                try {
                    response = await fetch(
                        "/llm-inference",
                        {
                            method: "POST",
                            headers: {"Content-Type": "application/json"},
                            body: JSON.stringify({
                                prompt: desc.innerHTML,
                                type: "aq"
                            })
                        }
                    );

                    if (!response.ok) {
                        console.log("Error in response");
                        aiBox.innerHTML = "<hr><b>AI Suggestions:</b><br>" + "Error during request. Status: " + response.status;
                    } else {
                        var data = await response.json();
                        var content = data.response;
                        aiBox.innerHTML = "<hr><h2>AI Suggestions:</h2><br>" + content;
                        btn.innerText = "Done";
                    }
                } catch (error) {
                    aiBox.innerHTML = "<hr><b>AI Suggestions:</b><br>Error during request." + error;
                }
            });
        };
        </script>
    
            <div class="folium-map" id="map_56882708915c48200680d963f7728012" ></div>
        
</body>
<script>
    
    
            var map_56882708915c48200680d963f7728012 = L.map(
                "map_56882708915c48200680d963f7728012",
                {
                    center: [23.77058714900005, 90.66192249350007],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 12,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );
            L.control.scale().addTo(map_56882708915c48200680d963f7728012);

            

        
    
            var tile_layer_48dbdb9bd76147c8499fe94230121194 = L.tileLayer(
                "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",
                {
  "minZoom": 0,
  "maxZoom": 20,
  "maxNativeZoom": 20,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors \u0026copy; \u003ca href=\"https://carto.com/attributions\"\u003eCARTO\u003c/a\u003e",
  "subdomains": "abcd",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_48dbdb9bd76147c8499fe94230121194.addTo(map_56882708915c48200680d963f7728012);
        
    
        function geo_json_f3e7377a0a521fc87a82679afeae86ad_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "#673ab7", "fillColor": "#673ab7", "fillOpacity": 0.1, "weight": 3};
            }
        }

        function geo_json_f3e7377a0a521fc87a82679afeae86ad_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_f3e7377a0a521fc87a82679afeae86ad = L.geoJson(null, {
                onEachFeature: geo_json_f3e7377a0a521fc87a82679afeae86ad_onEachFeature,
            
                style: geo_json_f3e7377a0a521fc87a82679afeae86ad_styler,
            ...{
}
        });

        function geo_json_f3e7377a0a521fc87a82679afeae86ad_add (data) {
            geo_json_f3e7377a0a521fc87a82679afeae86ad
                .addData(data);
        }
            geo_json_f3e7377a0a521fc87a82679afeae86ad_add({"features": [{"geometry": {"coordinates": [[[90.6947181670796, 23.68211223374797], [90.6953271576374, 23.682066135062897], [90.69648121286471, 23.682083311967865], [90.69762788532682, 23.682204574683297], [90.698756134558, 23.682428755871744], [90.69985509730303, 23.682753697251712], [90.70091419204414, 23.683176270355936], [90.70192322082634, 23.683692406625916], [90.70287246740378, 23.684297136553976], [90.70375279076431, 23.684984637497564], [90.70455571313362, 23.685748289707018], [90.70527350161221, 23.686580740028973], [90.70589924265961, 23.68747397267382], [90.70642690870802, 23.688419386367563], [90.70647704479093, 23.68852121468832], [90.7064996709044, 23.688201971246663], [90.7065052365635, 23.687883430256104], [90.70663683908055, 23.686827373191292], [90.70688020320868, 23.68578827995478], [90.7072329828155, 23.684776156877163], [90.70769177834549, 23.68380075036141], [90.70825216964005, 23.68287145305424], [90.70890875857151, 23.68199721343011], [90.70965522107817, 23.68118644965746], [90.71048436809706, 23.680446968574568], [90.71138821480724, 23.679785890553877], [90.71235805751546, 23.67920958097632], [90.7133845574451, 23.67872358897379], [90.71445783062217, 23.678332594028074], [90.71556754299498, 23.678040360938855], [90.71670300987388, 23.67784970359334], [90.71717074466125, 23.677792835465485], [90.71705884945901, 23.677775858525187], [90.71632816009026, 23.677698680062154], [90.71519990909775, 23.67747462773757], [90.71410094144372, 23.67714979565087], [90.71304184288293, 23.676727313007678], [90.71203281482087, 23.676211249597937], [90.7110835760031, 23.675606576561115], [90.7102032688702, 23.674919118466562], [90.7094003714822, 23.67415549717208], [90.70868261586169, 23.673323068003324], [90.70805691354279, 23.67242984887051], [90.70752928904155, 23.671484443006808], [90.70710482188828, 23.670495956074447], [90.70678759777758, 23.669473908438], [90.7065806693036, 23.668428143451553], [90.7064860266562, 23.667368732643375], [90.70648285782592, 23.667280349011307], [90.70647538452911, 23.667385832489803], [90.70646979922282, 23.6677058054296], [90.70633822858215, 23.668761866127348], [90.7060949041096, 23.66980096272069], [90.70574216675172, 23.670813087436336], [90.70528341146806, 23.6717884920646], [90.70472305461644, 23.6727177818745], [90.70406649148663, 23.673592006130395], [90.70332004438907, 23.674402744337414], [90.70249090179652, 23.67514218738291], [90.70158704912365, 23.675803212790985], [90.7006171918111, 23.67637945336336], [90.69959067145476, 23.67686535854366], [90.69851737578969, 23.677256247912535], [90.69740764339728, 23.67754835629675], [90.69627216405604, 23.677738870056743], [90.69572109372565, 23.67780579443521], [90.69569564584236, 23.678164499572738], [90.69568999235476, 23.67848669653546], [90.69555831707096, 23.67954273914722], [90.69531488100161, 23.680581809284455], [90.6949620261671, 23.68159389942732], [90.6947181670796, 23.68211223374797]]], "type": "Polygon"}, "id": "0", "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_f3e7377a0a521fc87a82679afeae86ad.bindTooltip(
                `<div>
                     Top cluster #1 (cluster 0)
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
        var popup_3a9e33aa2a22607d030a543eee421249 = L.popup({
  "maxWidth": 700,
  "maxHeight": 600,
});

        
            
                var html_84106feb004847c4019afe107d955e13 = $(`<div id="html_84106feb004847c4019afe107d955e13" style="width: 100.0%; height: 100.0%;">             <div style="margin-bottom: 0.5em;">             <span style="background:#007bff;color:white;padding:3px 7px;border-radius:5px;margin-right:5px;">                 Cluster ID: 0             </span>             <span style="background:#28a745;color:white;padding:3px 7px;border-radius:5px;">                 Rank: 1             </span>             </div>             <div id = "popup-desc_0"><h3 id="top-cluster-1-cluster-0">Top cluster #1 (cluster 0)</h3> <ul> <li><strong>Area:</strong> ~1.67 km²</li> <li><strong>People living inside:</strong> n/a</li> <li><strong>Current level:</strong> High (above typical) (z≈1.49; 0≈typical)</li> <li><strong>Seasonality:</strong> worse in the monsoon than the dry season (monsoon 1.09, dry -0.45 in standardized units; Δ=+1.54)</li> <li><strong>Sensitive sites inside:</strong> schools:0, clinics:0, hospitals:0, elder homes:0</li> <li><strong>Industrial/port/point-source features inside:</strong> 0</li> </ul></div><center><button id="popup-btn_0"                 style="margin-top:10px; padding:6px 10px; border:none; border-radius:6px;                         background:#2563eb; color:white; cursor:pointer; font-size:13px;"                 onclick="getAiSuggestions(0);">             Generate AI Suggestions         </button></center>          <div id = "ai-answer_0"></div>                  </div>`)[0];
                popup_3a9e33aa2a22607d030a543eee421249.setContent(html_84106feb004847c4019afe107d955e13);
            
        

        geo_json_f3e7377a0a521fc87a82679afeae86ad.bindPopup(popup_3a9e33aa2a22607d030a543eee421249)
        ;

        
    
    
            geo_json_f3e7377a0a521fc87a82679afeae86ad.addTo(map_56882708915c48200680d963f7728012);
        
    
        function geo_json_8b4dedf2dd9e713648dcd26f01256bf9_styler(feature) {
            switch(feature.id) {
                default:
                    return {"color": "#673ab7", "fillColor": "#673ab7", "fillOpacity": 0.1, "weight": 3};
            }
        }

        function geo_json_8b4dedf2dd9e713648dcd26f01256bf9_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_8b4dedf2dd9e713648dcd26f01256bf9 = L.geoJson(null, {
                onEachFeature: geo_json_8b4dedf2dd9e713648dcd26f01256bf9_onEachFeature,
            
                style: geo_json_8b4dedf2dd9e713648dcd26f01256bf9_styler,
            ...{
}
        });

        function geo_json_8b4dedf2dd9e713648dcd26f01256bf9_add (data) {
            geo_json_8b4dedf2dd9e713648dcd26f01256bf9
                .addData(data);
        }
            geo_json_8b4dedf2dd9e713648dcd26f01256bf9_add({"features": [{"geometry": {"coordinates": [[[90.62180994434758, 23.82333053628881], [90.62179723105618, 23.824027718179362], [90.62166470880273, 23.825083620875343], [90.6214203175759, 23.82612248881449], [90.62106640857952, 23.827134316413364], [90.6206063880449, 23.828109358310865], [90.62044338491289, 23.828378911293992], [90.62026491781042, 23.828711468834513], [90.6202733729809, 23.82872865480809], [90.62077541444636, 23.829628708916932], [90.62119961201775, 23.830617403879167], [90.62151642495122, 23.83163958597849], [90.62172279969147, 23.832685411515865], [90.62181674606578, 23.833744808853986], [90.62179735655324, 23.834807575403588], [90.62166481513086, 23.835863475880437], [90.62142039560752, 23.8369023408867], [90.62106644945817, 23.837914164866913], [90.62060638327061, 23.838889202494453], [90.62044343624991, 23.839158635508152], [90.62027949732018, 23.83946408999684], [90.62074223527925, 23.83927145398251], [90.62079592628963, 23.839246112828874], [90.62187077996083, 23.838855894719014], [90.62298203435728, 23.838564456389868], [90.62411898996625, 23.838374604078368], [90.62527069995544, 23.838288165931573], [90.62642607549432, 23.838305974409543], [90.6275739924396, 23.838427858267817], [90.62870339836086, 23.838652644196564], [90.62980341888039, 23.838978168101004], [90.63086346230642, 23.83940129591539], [90.63102927713223, 23.839476579697983], [90.6315228445166, 23.83927106792504], [90.63157489359031, 23.83924649712873], [90.6326497220072, 23.838856201174696], [90.63376095956178, 23.838564683101215], [90.63489790690272, 23.83837474991218], [90.63604961727685, 23.838288230532427], [90.63720500184976, 23.83830595820319], [90.6373973899836, 23.83832637259912], [90.63657439416572, 23.837905351931155], [90.63562444169906, 23.83730016169172], [90.6347435604363, 23.83661223209934], [90.63394023395965, 23.835848189563205], [90.6332221984123, 23.835015393474908], [90.63259636800784, 23.834121865285574], [90.63206876847592, 23.83317621120992], [90.63164447908332, 23.832187539303384], [90.63132758378748, 23.831165371712398], [90.63112113198957, 23.83011955294417], [90.6310271092623, 23.829060155040516], [90.63101521657526, 23.82872235036251], [90.63081699170145, 23.828692178550718], [90.63009234321333, 23.828615251604706], [90.62896301935665, 23.82839048230196], [90.62786308844233, 23.828064959230023], [90.62680314551278, 23.82764181826185], [90.62579340011153, 23.827125135540236], [90.62484357789373, 23.826519888181437], [90.6239628269146, 23.82583190629732], [90.62315962949998, 23.82506781680025], [90.62244172054871, 23.82423497953336], [90.62181601305417, 23.823341416343453], [90.62180994434758, 23.82333053628881]]], "type": "Polygon"}, "id": "0", "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_8b4dedf2dd9e713648dcd26f01256bf9.bindTooltip(
                `<div>
                     Top cluster #2 (cluster 1)
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
        var popup_2e5a448b7da125c3f6caa50b4ff89812 = L.popup({
  "maxWidth": 700,
  "maxHeight": 600,
});

        
            
                var html_70fa52f11aee5cff909d88afd4706be6 = $(`<div id="html_70fa52f11aee5cff909d88afd4706be6" style="width: 100.0%; height: 100.0%;">             <div style="margin-bottom: 0.5em;">             <span style="background:#007bff;color:white;padding:3px 7px;border-radius:5px;margin-right:5px;">                 Cluster ID: 1             </span>             <span style="background:#28a745;color:white;padding:3px 7px;border-radius:5px;">                 Rank: 2             </span>             </div>             <div id = "popup-desc_1"><h3 id="top-cluster-2-cluster-1">Top cluster #2 (cluster 1)</h3> <ul> <li><strong>Area:</strong> ~1.51 km²</li> <li><strong>People living inside:</strong> n/a</li> <li><strong>Current level:</strong> High (above typical) (z≈1.09; 0≈typical)</li> <li><strong>Seasonality:</strong> worse in the dry season than the monsoon (monsoon 0.25, dry 0.61 in standardized units; Δ=-0.36)</li> <li><strong>Sensitive sites inside:</strong> schools:0, clinics:0, hospitals:0, elder homes:0</li> <li><strong>Industrial/port/point-source features inside:</strong> 0</li> </ul></div><center><button id="popup-btn_1"                 style="margin-top:10px; padding:6px 10px; border:none; border-radius:6px;                         background:#2563eb; color:white; cursor:pointer; font-size:13px;"                 onclick="getAiSuggestions(1);">             Generate AI Suggestions         </button></center>          <div id = "ai-answer_1"></div>                  </div>`)[0];
                popup_2e5a448b7da125c3f6caa50b4ff89812.setContent(html_70fa52f11aee5cff909d88afd4706be6);
            
        

        geo_json_8b4dedf2dd9e713648dcd26f01256bf9.bindPopup(popup_2e5a448b7da125c3f6caa50b4ff89812)
        ;

        
    
    
            geo_json_8b4dedf2dd9e713648dcd26f01256bf9.addTo(map_56882708915c48200680d963f7728012);
        
    
            var circle_marker_981465441a1ec75d87c9fdb75d2b9a95 = L.circleMarker(
                [23.67779425882235, 90.69570771527513],
                {"bubblingMouseEvents": true, "color": "#d32f2f", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d32f2f", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 10, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_f2f11cd19b1d6daef917ebcfba5a5b85 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_7923acb8b66b681c3e1a93b39c195820 = $(`<div id="html_7923acb8b66b681c3e1a93b39c195820" style="width: 100.0%; height: 100.0%;"><b>SEVERE hotspot</b><br>Current level: Very high (well above typical) (z≈3.46; 0≈typical)<br>NO₂ z: 0.78 | PM₂.₅ z: 3.47 | CO z: 0.27<br><b>Likely driver:</b> Mixed drivers<br><b>Seasonality:</b> worse in the monsoon than the dry season (monsoon 1.34, dry -0.28 in standardized units; Δ=+1.62)</div>`)[0];
                popup_f2f11cd19b1d6daef917ebcfba5a5b85.setContent(html_7923acb8b66b681c3e1a93b39c195820);
            
        

        circle_marker_981465441a1ec75d87c9fdb75d2b9a95.bindPopup(popup_f2f11cd19b1d6daef917ebcfba5a5b85)
        ;

        
    
    
            circle_marker_981465441a1ec75d87c9fdb75d2b9a95.bindTooltip(
                `<div>
                     SEVERE hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_788f231ba6b79806e549eb6bd8b01dd3 = L.circleMarker(
                [23.68857404223178, 90.6849279318657],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_8e11c45e7cb2f7eb9fb72d91f59b7ba2 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_3f107ddce3b9329ae17dfdc1ac329ec2 = $(`<div id="html_3f107ddce3b9329ae17dfdc1ac329ec2" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.83; 0≈typical)<br>NO₂ z: 0.75 | PM₂.₅ z: 1.16 | CO z: 0.81<br><b>Likely driver:</b> Mixed drivers<br><b>Seasonality:</b> worse in the monsoon than the dry season (monsoon 1.47, dry -0.78 in standardized units; Δ=+2.25)</div>`)[0];
                popup_8e11c45e7cb2f7eb9fb72d91f59b7ba2.setContent(html_3f107ddce3b9329ae17dfdc1ac329ec2);
            
        

        circle_marker_788f231ba6b79806e549eb6bd8b01dd3.bindPopup(popup_8e11c45e7cb2f7eb9fb72d91f59b7ba2)
        ;

        
    
    
            circle_marker_788f231ba6b79806e549eb6bd8b01dd3.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_950b37005eb675472fa866b3764e16ee = L.circleMarker(
                [23.83949100996386, 90.62024923140909],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_b9ae8f19517207782ab9d022511c32b6 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_333201192fe676fb2a676e01f9181f65 = $(`<div id="html_333201192fe676fb2a676e01f9181f65" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.82; 0≈typical)<br>NO₂ z: 2.30 | PM₂.₅ z: -0.14 | CO z: 0.29<br><b>Likely driver:</b> Point sources / industry (high NO₂, low CO)<br><b>Seasonality:</b> similar between seasons (monsoon 0.64, dry 0.43 in standardized units; Δ=+0.21)</div>`)[0];
                popup_b9ae8f19517207782ab9d022511c32b6.setContent(html_333201192fe676fb2a676e01f9181f65);
            
        

        circle_marker_950b37005eb675472fa866b3764e16ee.bindPopup(popup_b9ae8f19517207782ab9d022511c32b6)
        ;

        
    
    
            circle_marker_950b37005eb675472fa866b3764e16ee.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_3ca88dc9eaa4e7b0c6a67d6e98aa6b99 = L.circleMarker(
                [23.67779425882235, 90.70648749868457],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_fbda59c0317b500a6a56f1a7e14a6aa9 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_561d75f5d2bee8ad51809e786ddce48d = $(`<div id="html_561d75f5d2bee8ad51809e786ddce48d" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.77; 0≈typical)<br>NO₂ z: -0.23 | PM₂.₅ z: 2.45 | CO z: 0.05<br><b>Likely driver:</b> Dust / construction / open burning (high PM proxy, low NO₂)<br><b>Seasonality:</b> worse in the monsoon than the dry season (monsoon 1.02, dry -0.48 in standardized units; Δ=+1.50)</div>`)[0];
                popup_fbda59c0317b500a6a56f1a7e14a6aa9.setContent(html_561d75f5d2bee8ad51809e786ddce48d);
            
        

        circle_marker_3ca88dc9eaa4e7b0c6a67d6e98aa6b99.bindPopup(popup_fbda59c0317b500a6a56f1a7e14a6aa9)
        ;

        
    
    
            circle_marker_3ca88dc9eaa4e7b0c6a67d6e98aa6b99.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_760ef94f685f118d2cc4c73f0ee392a3 = L.circleMarker(
                [23.80715165973556, 90.62024923140909],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_a60444b22a9eaa89be49022ba1963d36 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_1d63ac8936e0b9356265d3fcd489fbba = $(`<div id="html_1d63ac8936e0b9356265d3fcd489fbba" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.70; 0≈typical)<br>NO₂ z: 1.75 | PM₂.₅ z: -0.38 | CO z: 1.55<br><b>Likely driver:</b> Traffic / combustion (high NO₂ + CO)<br><b>Seasonality:</b> worse in the dry season than the monsoon (monsoon -0.15, dry 0.65 in standardized units; Δ=-0.81)</div>`)[0];
                popup_a60444b22a9eaa89be49022ba1963d36.setContent(html_1d63ac8936e0b9356265d3fcd489fbba);
            
        

        circle_marker_760ef94f685f118d2cc4c73f0ee392a3.bindPopup(popup_a60444b22a9eaa89be49022ba1963d36)
        ;

        
    
    
            circle_marker_760ef94f685f118d2cc4c73f0ee392a3.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_82b67e44df98d26242a02fab1a4887a0 = L.circleMarker(
                [23.817931443144992, 90.62024923140909],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_165d0c99d1947b405720966a38852ba4 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_ba3ea0f9cc8df122b49e572be4d5414a = $(`<div id="html_ba3ea0f9cc8df122b49e572be4d5414a" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.64; 0≈typical)<br>NO₂ z: 1.83 | PM₂.₅ z: -0.03 | CO z: 0.55<br><b>Likely driver:</b> Mixed drivers<br><b>Seasonality:</b> worse in the dry season than the monsoon (monsoon 0.16, dry 0.98 in standardized units; Δ=-0.82)</div>`)[0];
                popup_165d0c99d1947b405720966a38852ba4.setContent(html_ba3ea0f9cc8df122b49e572be4d5414a);
            
        

        circle_marker_82b67e44df98d26242a02fab1a4887a0.bindPopup(popup_165d0c99d1947b405720966a38852ba4)
        ;

        
    
    
            circle_marker_82b67e44df98d26242a02fab1a4887a0.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_94ec78a27a39fa863a83689ec5cb7abc = L.circleMarker(
                [23.83949100996386, 90.63102901481852],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_0d8a471deb567fd47204db6a0ce70454 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_1ebeed45ca9b97c73e52da6d9456e0a5 = $(`<div id="html_1ebeed45ca9b97c73e52da6d9456e0a5" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.59; 0≈typical)<br>NO₂ z: 2.06 | PM₂.₅ z: -0.26 | CO z: 0.44<br><b>Likely driver:</b> Point sources / industry (high NO₂, low CO)<br><b>Seasonality:</b> worse in the monsoon than the dry season (monsoon 0.68, dry 0.42 in standardized units; Δ=+0.26)</div>`)[0];
                popup_0d8a471deb567fd47204db6a0ce70454.setContent(html_1ebeed45ca9b97c73e52da6d9456e0a5);
            
        

        circle_marker_94ec78a27a39fa863a83689ec5cb7abc.bindPopup(popup_0d8a471deb567fd47204db6a0ce70454)
        ;

        
    
    
            circle_marker_94ec78a27a39fa863a83689ec5cb7abc.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_388892e89e06fd3d8c4361b643d529a4 = L.circleMarker(
                [23.82871122655443, 90.62024923140909],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_e50ed797501607ee1b7ed16efbcdda2b = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_dc82d906b49bdd0deb45bf4ff064d4c3 = $(`<div id="html_dc82d906b49bdd0deb45bf4ff064d4c3" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.55; 0≈typical)<br>NO₂ z: 1.66 | PM₂.₅ z: 0.43 | CO z: -0.23<br><b>Likely driver:</b> Point sources / industry (high NO₂, low CO)<br><b>Seasonality:</b> worse in the dry season than the monsoon (monsoon 0.13, dry 0.87 in standardized units; Δ=-0.74)</div>`)[0];
                popup_e50ed797501607ee1b7ed16efbcdda2b.setContent(html_dc82d906b49bdd0deb45bf4ff064d4c3);
            
        

        circle_marker_388892e89e06fd3d8c4361b643d529a4.bindPopup(popup_e50ed797501607ee1b7ed16efbcdda2b)
        ;

        
    
    
            circle_marker_388892e89e06fd3d8c4361b643d529a4.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_e2aa25e4b6ec3867c3b5f8d1e1abc23f = L.circleMarker(
                [23.83949100996386, 90.64180879822796],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_7af0e2a058500e330ff73b48f0797437 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_823fa2e2b2169c4156123b2a07c766e7 = $(`<div id="html_823fa2e2b2169c4156123b2a07c766e7" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.17; 0≈typical)<br>NO₂ z: 2.37 | PM₂.₅ z: -1.00 | CO z: 0.21<br><b>Likely driver:</b> Point sources / industry (high NO₂, low CO)<br><b>Seasonality:</b> similar between seasons (monsoon -0.02, dry 0.11 in standardized units; Δ=-0.13)</div>`)[0];
                popup_7af0e2a058500e330ff73b48f0797437.setContent(html_823fa2e2b2169c4156123b2a07c766e7);
            
        

        circle_marker_e2aa25e4b6ec3867c3b5f8d1e1abc23f.bindPopup(popup_7af0e2a058500e330ff73b48f0797437)
        ;

        
    
    
            circle_marker_e2aa25e4b6ec3867c3b5f8d1e1abc23f.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_1ee6d483de5f8b192b1af4c767ea608d = L.circleMarker(
                [23.68857404223178, 90.70648749868457],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_5223c435f4c33d236aedf2c1e0a683e8 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_b3a1f9458b017fd5690ca5275540062f = $(`<div id="html_b3a1f9458b017fd5690ca5275540062f" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.09; 0≈typical)<br>NO₂ z: -0.55 | PM₂.₅ z: 2.26 | CO z: -0.66<br><b>Likely driver:</b> Dust / construction / open burning (high PM proxy, low NO₂)<br><b>Seasonality:</b> worse in the monsoon than the dry season (monsoon 0.94, dry 0.02 in standardized units; Δ=+0.92)</div>`)[0];
                popup_5223c435f4c33d236aedf2c1e0a683e8.setContent(html_b3a1f9458b017fd5690ca5275540062f);
            
        

        circle_marker_1ee6d483de5f8b192b1af4c767ea608d.bindPopup(popup_5223c435f4c33d236aedf2c1e0a683e8)
        ;

        
    
    
            circle_marker_1ee6d483de5f8b192b1af4c767ea608d.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_f902fdb4441f05245fe8c52d1d791b04 = L.circleMarker(
                [23.667014475412916, 90.70648749868457],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_dbbd70ed962c769b5893206d609f74b2 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_66958bc535b69f8ca22318e53e9cb1d9 = $(`<div id="html_66958bc535b69f8ca22318e53e9cb1d9" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.07; 0≈typical)<br>NO₂ z: -0.55 | PM₂.₅ z: 1.86 | CO z: 0.09<br><b>Likely driver:</b> Dust / construction / open burning (high PM proxy, low NO₂)<br><b>Seasonality:</b> worse in the monsoon than the dry season (monsoon 1.12, dry -1.20 in standardized units; Δ=+2.32)</div>`)[0];
                popup_dbbd70ed962c769b5893206d609f74b2.setContent(html_66958bc535b69f8ca22318e53e9cb1d9);
            
        

        circle_marker_f902fdb4441f05245fe8c52d1d791b04.bindPopup(popup_dbbd70ed962c769b5893206d609f74b2)
        ;

        
    
    
            circle_marker_f902fdb4441f05245fe8c52d1d791b04.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_941aed5daf9399c0775d05b9492fc52d = L.circleMarker(
                [23.67779425882235, 90.717267282094],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_8b5dff08837540cbc2b8f3b84bc2cc91 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_ee6b4dfb0ce3f8712bd60f45856f4a75 = $(`<div id="html_ee6b4dfb0ce3f8712bd60f45856f4a75" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.02; 0≈typical)<br>NO₂ z: -0.42 | PM₂.₅ z: 1.71 | CO z: 0.00<br><b>Likely driver:</b> Dust / construction / open burning (high PM proxy, low NO₂)<br><b>Seasonality:</b> worse in the monsoon than the dry season (monsoon 1.41, dry -1.14 in standardized units; Δ=+2.56)</div>`)[0];
                popup_8b5dff08837540cbc2b8f3b84bc2cc91.setContent(html_ee6b4dfb0ce3f8712bd60f45856f4a75);
            
        

        circle_marker_941aed5daf9399c0775d05b9492fc52d.bindPopup(popup_8b5dff08837540cbc2b8f3b84bc2cc91)
        ;

        
    
    
            circle_marker_941aed5daf9399c0775d05b9492fc52d.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var circle_marker_ecbc6bd01c46fbf90d5a31e5db6a9557 = L.circleMarker(
                [23.82871122655443, 90.63102901481852],
                {"bubblingMouseEvents": true, "color": "#fb8c00", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#fb8c00", "fillOpacity": 0.95, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 8, "stroke": true, "weight": 3}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
        var popup_df8586697166c3d43d2242981eb05d98 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_ef235eaa059c13e0d583a43f94206f7d = $(`<div id="html_ef235eaa059c13e0d583a43f94206f7d" style="width: 100.0%; height: 100.0%;"><b>HIGH hotspot</b><br>Current level: High (above typical) (z≈1.01; 0≈typical)<br>NO₂ z: 1.49 | PM₂.₅ z: -0.09 | CO z: -0.22<br><b>Likely driver:</b> Point sources / industry (high NO₂, low CO)<br><b>Seasonality:</b> worse in the dry season than the monsoon (monsoon -0.34, dry 0.63 in standardized units; Δ=-0.96)</div>`)[0];
                popup_df8586697166c3d43d2242981eb05d98.setContent(html_ef235eaa059c13e0d583a43f94206f7d);
            
        

        circle_marker_ecbc6bd01c46fbf90d5a31e5db6a9557.bindPopup(popup_df8586697166c3d43d2242981eb05d98)
        ;

        
    
    
            circle_marker_ecbc6bd01c46fbf90d5a31e5db6a9557.bindTooltip(
                `<div>
                     HIGH hotspot
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var tile_layer_e966fab4e62e1cb1c4dfbcd645226f6f = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detect_retina": false, "max_native_zoom": 19, "max_zoom": 19, "min_zoom": 0, "no_wrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
            var mini_map_e3b52c36c7af204bcae9dd514d4bd60b = new L.Control.MiniMap(
                tile_layer_e966fab4e62e1cb1c4dfbcd645226f6f,
                {
  "position": "bottomright",
  "width": 150,
  "height": 150,
  "collapsedWidth": 25,
  "collapsedHeight": 25,
  "zoomLevelOffset": -5,
  "centerFixed": false,
  "zoomAnimation": false,
  "toggleDisplay": true,
  "autoToggleDisplay": false,
  "minimized": false,
}
            );
            map_56882708915c48200680d963f7728012.addControl(mini_map_e3b52c36c7af204bcae9dd514d4bd60b);
        
    
            L.control.fullscreen(
                {
  "position": "topleft",
  "title": "Full Screen",
  "titleCancel": "Exit Full Screen",
  "forceSeparateButton": false,
}
            ).addTo(map_56882708915c48200680d963f7728012);
        
    
            var mouse_position_aea21519e539c54838ad1d8bc776ddce = new L.Control.MousePosition(
                {
  "position": "topright",
  "separator": " | ",
  "emptyString": "Unavailable",
  "lngFirst": false,
  "numDigits": 5,
  "prefix": "Lat/Lon:",
}
            );
            mouse_position_aea21519e539c54838ad1d8bc776ddce.options["latFormatter"] =
                undefined;
            mouse_position_aea21519e539c54838ad1d8bc776ddce.options["lngFormatter"] =
                undefined;
            map_56882708915c48200680d963f7728012.addControl(mouse_position_aea21519e539c54838ad1d8bc776ddce);
        
    
            var measure_control_a6f8e24a4a25cd08ccf314be1d9b1c69 = new L.Control.Measure(
                {
  "position": "topright",
  "primaryLengthUnit": "kilometers",
  "secondaryLengthUnit": "miles",
  "primaryAreaUnit": "sqmeters",
  "secondaryAreaUnit": "acres",
});
            map_56882708915c48200680d963f7728012.addControl(measure_control_a6f8e24a4a25cd08ccf314be1d9b1c69);

            // Workaround for using this plugin with Leaflet>=1.8.0
            // https://github.com/ljagis/leaflet-measure/issues/171
            L.Control.Measure.include({
                _setCaptureMarkerIcon: function () {
                    // disable autopan
                    this._captureMarker.options.autoPanOnFocus = false;
                    // default function
                    this._captureMarker.setIcon(
                        L.divIcon({
                            iconSize: this._map.getSize().multiplyBy(2)
                        })
                    );
                },
            });

        
    
            var layer_control_31bb0df8a9687967d5f8e56bf1147423_layers = {
                base_layers : {
                    "cartodbpositron" : tile_layer_48dbdb9bd76147c8499fe94230121194,
                },
                overlays :  {
                    "Top cluster #1 (cluster 0)" : geo_json_f3e7377a0a521fc87a82679afeae86ad,
                    "Top cluster #2 (cluster 1)" : geo_json_8b4dedf2dd9e713648dcd26f01256bf9,
                },
            };
            let layer_control_31bb0df8a9687967d5f8e56bf1147423 = L.control.layers(
                layer_control_31bb0df8a9687967d5f8e56bf1147423_layers.base_layers,
                layer_control_31bb0df8a9687967d5f8e56bf1147423_layers.overlays,
                {
  "position": "topright",
  "collapsed": false,
  "autoZIndex": true,
}
            ).addTo(map_56882708915c48200680d963f7728012);

        
</script>
</html>